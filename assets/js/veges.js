// let vegetables = [

// 0
// {
//     "product_image": {
//         "source": "../assets/image/tomato.jpg",
//         "alt": "image of tomato veggie"
//     },

//     "product_name": "FreshOrganicTomato",

//     "price": 150,

//     "rating": 4

// },
// 1
// {
//     "product_image": {
//         "source": "../assets/image/cabbage.png",
//         "alt": "image of tomato veggie"
//     },

//     "product_name": "FreshOrganicCabbage",

//     "price": 150,

//     "rating": 4

// },
// 2
// {
//     "product_image": {
//         "source": "../assets/image/beetroot.jpg",
//         "alt": "image of tomato veggie"
//     },

//     "product_name": "FreshOrganicBeetroot",

//     "price": 150,

//     "rating": 5

// },
// //3
//     {
//         "product_image": {
//             "source": "../assets/image/brocoli.jpg",
//             "alt": "image of tomato veggie"
//         },

//         "product_name": "FreshOrganicBrocoli",

//         "price": 150,

//         "rating": 4

//     },
//     //4
//     {
//         "product_image": {
//             "source": "../assets/image/carrot.jpg",
//             "alt": "image of tomato veggie"
//         },

//         "product_name": "FreshOrganicCarrot",

//         "price": 150,

//         "rating": 4

//     },
//     //5
//     {
//         "product_image": {
//             "source": "../assets/image/potato.jpg",
//             "alt": "image of tomato veggie"
//         },

//         "product_name": "FreshOrganicPotato",

//         "price": 150,

//         "rating": 4

//     },
//     //6
//     {
//         "product_image": {
//             "source": "../assets/image/onion.jpg",
//             "alt": "image of tomato veggie"
//         },

//         "product_name": "FreshOrganicOnion",

//         "price": 150,

//         "rating": 4

//     },
//     //7
//     {
//         "product_image": {
//             "source": "../assets/image/cf.jpg",
//             "alt": "image of tomato veggie"
//         },

//         "product_name": "FreshOrganicCauliflower",

//         "price": 150,

//         "rating": 4

//     },
//     //8
//     {
//         "product_image": {
//             "source": "../assets/image/raddish.jpg",
//             "alt": "image of tomato veggie"
//         },

//         "product_name": "FreshOrganicRaddish",

//         "price": 150,

//         "rating": 4

//     },
//     //9
//     {
//         "product_image": {
//             "source": "../assets/image/bittergourd.jfif",
//             "alt": "image of tomato veggie"
//         },

//         "product_name": "FreshOrganicBittergourd",

//         "price": 150,

//         "rating": 4

//     },
//     //10
//     {
//         "product_image": {
//             "source": "../assets/image/bottle.jpg",
//             "alt": "image of tomato veggie"
//         },

//         "product_name": "FreshOrganicBottlegourd",

//         "price": 150,

//         "rating": 4

//     },
//     //11
//     {
//         "product_image": {
//             "source": "../assets/image/broadbeans.jfif",
//             "alt": "image of tomato veggie"
//         },

//         "product_name": "FreshOrganicBroadbeans",

//         "price": 150,

//         "rating": 5.0

//     },
//     //12
//     {
//         "product_image": {
//             "source": "../assets/image/brinjal.jfif",
//             "alt": "image of tomato veggie"
//         },

//         "product_name": "FreshOrganicBrinjal",

//         "price": 150,

//         "rating": 5.0

//     },
//     //13
//     {
//         "product_image": {
//             "source": "../assets/image/ladysfinger.jpg",
//             "alt": "image of tomato veggie"
//         },

//         "product_name": "FreshOrganicLadysfinger",

//         "price": 150,

//         "rating": 5.0

//     },
//     //14
//     {
//         "product_image": {
//             "source": "../assets/image/beans.jfif",
//             "alt": "image of tomato veggie"
//         },

//         "product_name": "FreshOrganicBeans",

//         "price": 150,

//         "rating": 5.0

//     },
//     //15
//     {
//         "product_image": {
//             "source": "../assets/image/chayote1.jpg",
//             "alt": "image of tomato veggie"
//         },

//         "product_name": "FreshOrganicChayote",

//         "price": 150,

//         "rating": 5.0

//     },
//     //16
//     {
//         "product_image": {
//             "source": "../assets/image/ridge.jfif",
//             "alt": "image of tomato veggie"
//         },

//         "product_name": "FreshOrganicRidgegourd",

//         "price": 150,

//         "rating": 5.0

//     },
//     //17
//     {
//         "product_image": {
//             "source": "../assets/image/pumpkin.jfif",
//             "alt": "image of tomato veggie"
//         },

//         "product_name": "FreshOrganicPumpkin",

//         "price": 150,

//         "rating": 5.0

//     },
//     //18
//     {
//         "product_image": {
//             "source": "../assets/image/kohlrabi.jfif",
//             "alt": "image of tomato veggie"
//         },

//         "product_name": "FreshOrganicKohlrabi",

//         "price": 150,

//         "rating": 5.0

//     },
//     //19
//     {
//         "product_image": {
//             "source": "../assets/image/garlic.jfif",
//             "alt": "image of tomato veggie"
//         },

//         "product_name": "FreshOrganicGarlic",

//         "price": 150,

//         "rating": 5.0

//     },
//     //20
//     {
//         "product_image": {
//             "source": "../assets/image/cucumber.jfif",
//             "alt": "image of tomato veggie"
//         },

//         "product_name": "FreshOrganicCucumber",

//         "price": 150,

//         "rating": 5.0

//     },
//     //21
//     {
//         "product_image": {
//             "source": "../assets/image/greenchilli (2).jfif",
//             "alt": "image of tomato veggie"
//         },

//         "product_name": "FreshOrganicGreenchilli",

//         "price": 150,

//         "rating": 5.0

//     },
//     //22
//     {
//         "product_image": {
//             "source": "../assets/image/ginger.jfif",
//             "alt": "image of tomato veggie"
//         },

//         "product_name": "FreshOrganicGinger",

//         "price": 150,

//         "rating": 5.0

//     },
//     //23
//     {
//         "product_image": {
//             "source": "../assets/image/spinach.jfif",
//             "alt": "image of tomato veggie"
//         },

//         "product_name": "FreshOrganicSpinach",

//         "price": 150,

//         "rating": 5.0

//     },
// ]

let product_card_div;

let prdouct_link;
let product_image;
let product_name;

let product_quantity;

let ratings_div;

let buy_now_link;
let add_to_cart_link;
let decrement;
let increment;

let check;

const products = JSON.parse(localStorage.getItem('create_product'));

let i;

for (let i = 0; i < products.length; i++) {
  // productCard();
  // }
  if (products[i].status) {
    // function productCard() {

    product_card_div = document.createElement("div");
    product_card_div.setAttribute("class", "product-card");

    prdouct_link = document.createElement("a");
    // prdouct_link.setAttribute("href", "order1.html?name=" + products[i]["titlename"]);
    product_card_div.append(prdouct_link);

    product_image = document.createElement("img");
    product_image.setAttribute("src", products[i].image);
    prdouct_link.append(product_image);

    product_name = document.createElement("p");
    product_name.innerText = products[i].titlename;
    prdouct_link.append(product_name);

    product_quantity = document.createElement("p");
    product_quantity.innerText = `₹ ${products[i]["price"]} Per kg`;
    product_card_div.append(product_quantity);

    // product_quantity = document.createElement("p");
    // product_quantity.innerText = 250 + "g";
    // product_card_div.append(product_quantity);

    // ratings_div = document.createElement("div");
    // ratings_div.setAttribute("class", "product-ratings");
    // product_card_div.append(ratings_div);

    // button_div=document.createElement("div");
    // button_div.setAttribute("class","btn");
    // product_card_div.append(button_div)

    // decrement=document.createElement("button");
    // decrement.setAttribute("class","btn1 btn-decrement");
    // decrement.innerText="-"
    // button_div.append(decrement)

    // adding=document.createElement("input");
    // adding.setAttribute("class","btn-input")
    // adding.setAttribute("id","quantity")
    // adding.setAttribute("type","text")
    // adding.setAttribute("value","1")
    // button_div.append(adding)

    // increment=document.createElement("button")
    // increment.setAttribute("class","btn1 btn-increment")
    // increment.innerText="+"
    // button_div.append(increment)

    // sub_div=document.createElement("div")
    // sub_div.setAttribute("class","total-amount")
    // button_div.append(sub_div)

    // heading2=document.createElement("h2")
    // heading2.innerText="Price:"
    // button_div.append(heading2)

    // paragraph=document.createElement("p")
    // paragraph.setAttribute("class","total-price")
    // button_div.append(paragraph)

    // span_1=document.createElement("span")
    // button_div.append(span_1)

    // rupee_icon=document.createElement("i")
    // rupee_icon.setAttribute("class","fas fa-rupee-sign")
    // span_1.append(rupee_icon)

    // span_2=document.createElement("span")
    // span_2.setAttribute("id","price")
    // span_2.innerText=" "+" "+"6"
    // button_div.append(span_2)

    const products_star = products[i];
    let rating_round = Math.round(products_star.ratings);

    let stars = "";
    for (let j = 0; j < rating_round; j++) {
      stars += "⭐";
    }
    product_card_div.append(stars);

    buy_now_link = document.createElement("button")
    buy_now_link.setAttribute("id","buynow_button")
    buy_now_link = document.createElement("a");
    buy_now_link.setAttribute( "href","order1.html?name=" + products[i]["titlename"] );
    buy_now_link.setAttribute("class", "buy-now");
    buy_now_link.innerText = "Buy Now";
    product_card_div.append(buy_now_link);

    document.querySelector(".product-list-container").append(product_card_div);

    // add_to_cart_link = document.createElement("a");
    // add_to_cart_link.setAttribute("href", "../html/cart.html");
    // add_to_cart_link.setAttribute("class", "add-to-cart")
    // add_to_cart_link.innerText = "Add to Cart";
    // product_card_div.append(add_to_cart_link);

  }
}



// search function

const search = document.getElementById("search");
search.addEventListener("keyup", (e) => {
  let word = e.target.value.toLowerCase();

  console.log(word)

  const course = document.querySelectorAll(".product-card");

  console.log(course);

  course.forEach((element) => {
    let content = element.children[0].textContent.toLowerCase();
    if (content.includes(word)) {
      element.style.display = "flex";
    } else {
      element.style.display = "none";
    }
  });
});


// cart count

const cart_sample = JSON.parse(localStorage.getItem("cart"));
const user = JSON.parse(localStorage.getItem("active_user"));

const cartCount = [];
cart_sample.forEach((e) => {
  if (e.email == user.email) {
    cartCount.push(e);
  }
});

const co = cartCount.length

console.log(co);
const count1 = document.getElementById("cartcount");
count1.innerHTML = cartCount.length;
//
